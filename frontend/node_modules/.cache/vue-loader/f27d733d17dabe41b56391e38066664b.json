{"remainingRequest":"L:\\softDev\\personal\\5Chat\\twitterBot\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!L:\\softDev\\personal\\5Chat\\twitterBot\\frontend\\src\\components\\UserSettings.vue?vue&type=script&lang=js&","dependencies":[{"path":"L:\\softDev\\personal\\5Chat\\twitterBot\\frontend\\src\\components\\UserSettings.vue","mtime":1631465471761},{"path":"L:\\softDev\\personal\\5Chat\\twitterBot\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"L:\\softDev\\personal\\5Chat\\twitterBot\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"L:\\softDev\\personal\\5Chat\\twitterBot\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"L:\\softDev\\personal\\5Chat\\twitterBot\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdXNlclNlcnZpY2VzIGZyb20gIkAvc2VydmljZXMvdXNlclNlcnZpY2VzLmpzIjsNCmltcG9ydCBUd2l0dGVyRGF0YSBmcm9tICJAL2NvbXBvbmVudHMvVHdpdHRlckRhdGEudnVlIjsNCmltcG9ydCBHZW5lcmFsRGF0YSBmcm9tICJAL2NvbXBvbmVudHMvR2VuZXJhbERhdGEudnVlIjsNCmltcG9ydCBGaWx0ZXJzRGF0YSBmcm9tICJAL2NvbXBvbmVudHMvRmlsdGVyc0RhdGEudnVlIjsNCmltcG9ydCBTY29yZURhdGEgZnJvbSAiQC9jb21wb25lbnRzL1Njb3JlRGF0YS52dWUiOw0KdmFyIGp3dCA9IHJlcXVpcmUoImpzb253ZWJ0b2tlbiIpOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiVXNlclNldHRpbmdzIiwNCiAgY29tcG9uZW50czogew0KICAgIFR3aXR0ZXJEYXRhLA0KICAgIEdlbmVyYWxEYXRhLA0KICAgIEZpbHRlcnNEYXRhLA0KICAgIFNjb3JlRGF0YSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcm5hbWU6ICIiLA0KICAgICAgaWQ6IG51bGwsDQogICAgICB1c2VyOiBudWxsLA0KICAgICAgSldUOiBudWxsLA0KICAgICAgcmVhZEFjY291bnRTdGF0dXM6ICJ1bnRyaWVkIiwNCiAgICAgIGJ1c3k6IGZhbHNlLA0KICAgICAgYnVzeUNyZWF0ZVBvcHVsYXRlOiBmYWxzZSwNCiAgICAgIGJ1c3lTaWduSW46IGZhbHNlLA0KICAgICAgdHdpdHRlcktleTogMCwNCiAgICB9Ow0KICB9LA0KICBhc3luYyBjcmVhdGVkKCkgew0KICAgIC8vR2V0dGluZyBpZCBhbmQgdXNlcm5hbWUgZnJvbSBKV1QNCiAgICB0aGlzLkpXVCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy5nZXQoIkpXVCIpOw0KICAgIHRyeSB7DQogICAgICBsZXQgZGVjb2RlZCA9IGp3dC5kZWNvZGUodGhpcy5KV1QpOw0KICAgICAgdGhpcy5pZCA9IGRlY29kZWQuYWNjSWQ7DQogICAgICB0aGlzLnVzZXJuYW1lID0gZGVjb2RlZC5hY2NOYW1lOw0KICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgY29uc29sZS5sb2coImVyciA6Pj4gIiwgZXJyKTsNCiAgICAgIHRoaXMucmVhZEFjY291bnRTdGF0dXMgPSAiZmFpbGVkIjsNCiAgICAgIHJldHVybiAxOw0KICAgIH0NCiAgICAvL1ZlcmlmeWluZyB0aGF0IHBhcmFtZXRlcnMgYXJlIGNvcnJlY3QNCiAgICBsZXQgcmVzID0gYXdhaXQgdXNlclNlcnZpY2VzDQogICAgICAuZ2V0VXNlckJhc2ljRGF0YSh0aGlzLnVzZXJuYW1lKQ0KICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coImVycm9yIGdldHRpbmcgYmFzaWMgZGF0YTo+PiAiLCBlcnJvcikpOw0KICAgIGlmIChyZXMuZGF0YS5lcnJvciA9PT0gdW5kZWZpbmVkKSB7DQogICAgICBpZiAodGhpcy5pZCA9PSByZXMuZGF0YS51c2VyZGF0YS5pZCkgew0KICAgICAgICAvL1RoZSBJRCAvIHVzZXJuYW1lIGR1byBmaXRzIGNvcnJlY3RseQ0KICAgICAgICAvL0NyZWF0ZSBvciBVcGRhdGUgVXNlcg0KICAgICAgICBhd2FpdCB0aGlzLmNhbGxVc2VyKCJwdXQiKTsNCiAgICAgICAgdGhpcy5yZWFkQWNjb3VudFN0YXR1cyA9ICJzdWNjZXNzIjsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNvbnNvbGUubG9nKCJhY2NJZCBkb2VzbnQgbWF0Y2ggYWNjTmFtZSIpOw0KICAgICAgICB0aGlzLnJlYWRBY2NvdW50U3RhdHVzID0gIm5vdG1hdGNoaW5nIjsNCiAgICAgIH0NCiAgICB9IGVsc2Ugew0KICAgICAgdGhpcy5yZWFkQWNjb3VudFN0YXR1cyA9ICJmYWlsZWQiOw0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICB1c2VybmFtZUlzVmFsaWQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICh0aGlzLnVzZXJuYW1lICE9IG51bGwgJiYgdGhpcy51c2VybmFtZS5sZW5ndGggPj0gNCkgew0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy51c2VybmFtZSAhPSBudWxsKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCg0KICAgICAgcmV0dXJuIG51bGw7DQogICAgfSwNCiAgICB0d2l0dGVyQWNjb3VudFN0YXR1czogZnVuY3Rpb24gKCkgew0KICAgICAgaWYgKHRoaXMudXNlciAhPSBudWxsICYmIHRoaXMudXNlci50d2l0dGVyICE9IG51bGwpIHsNCiAgICAgICAgaWYgKHRoaXMudXNlci5hY2MgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgcmV0dXJuICJlcnJvclJlYWRpbmdBY2NvdW50IjsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy51c2VyLnR3aXR0ZXIubGlrZXMgPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgcmV0dXJuICJhY2NvdW50SXNQcml2YXRlIjsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gInJlYWRhYmxlIjsNCiAgICAgIH0NCiAgICAgIHJldHVybiAibm90TG9hZGVkIjsNCiAgICB9LA0KICAgIHVzZXJMaW5rOiBmdW5jdGlvbiAoKSB7DQogICAgICByZXR1cm4gImh0dHBzOi8vdHdpdHRlci5jb20vIiArIHRoaXMudXNlcm5hbWU7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFzeW5jIGNhbGxVc2VyKG1ldGhvZCkgew0KICAgICAgdGhpcy5idXN5Q3JlYXRlUG9wdWxhdGUgPSB0cnVlOw0KICAgICAgaWYgKHRoaXMudXNlcm5hbWUgIT09IG51bGwpIHsNCiAgICAgICAgdXNlclNlcnZpY2VzDQogICAgICAgICAgLmdldFVzZXIodGhpcy5KV1QsIG1ldGhvZCkNCiAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICBpZiAocmVzKSB7DQogICAgICAgICAgICAgIHRoaXMudXNlciA9IHJlczsNCiAgICAgICAgICAgICAgdGhpcy5yZWFkQWNjb3VudFN0YXR1cyA9ICJzdWNjZXNzIjsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMucmVhZEFjY291bnRTdGF0dXMgPSAiZmFpbGVkIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuYnVzeUNyZWF0ZVBvcHVsYXRlID0gZmFsc2U7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmVycm9yKCJlcnJvciA6Pj4gIiwgZXJyb3IpKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qcmVxdWVzdCB0aGUgNUNoYXQgb2F1dGhfdG9rZW4sIHRoZW4gcmVkaXJlY3RzIHRoZSB1c2VyIHRvIGEgc2lnbi1pbiBwYWdlLA0KICAgIGFuZCBmaW5hbGx5LCByZXRyaWV2ZXMgdGhlIHVzZXIgdG9rZW5zIGFuZCBpRCBmb3IgbG9hZGluZyovDQogICAgYXN5bmMgdXNlclNpZ25JbigpIHsNCiAgICAgIGlmICh0aGlzLnVzZXIgIT0gbnVsbCAmJiB0aGlzLnVzZXIudHdpdHRlciAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgIGxldCB1c2VyYmxvY2tzID0gbnVsbDsNCiAgICAgICAgdGhpcy5idXN5U2lnbkluID0gdHJ1ZTsNCiAgICAgICAgbGV0IG9hdXRoX3Rva2VuID0gbnVsbDsNCg0KICAgICAgICBsZXQgaWQgPSAiLTEiOw0KICAgICAgICBpZiAodGhpcy5pZCAhPT0gbnVsbCkgew0KICAgICAgICAgIGlkID0gdGhpcy5pZDsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgYWNjID0gIi0xIjsNCiAgICAgICAgaWYgKHRoaXMudXNlcm5hbWUgIT09IG51bGwpIHsNCiAgICAgICAgICBhY2MgPSB0aGlzLnVzZXJuYW1lOw0KICAgICAgICB9DQoNCiAgICAgICAgbGV0IGFwaVJlcXVlc3RUb2tlbnMgPSBhd2FpdCB1c2VyU2VydmljZXMuZ2V0UmVxdWVzdFRva2VuKGFjYywgaWQpOw0KICAgICAgICBpZiAoYXBpUmVxdWVzdFRva2Vucykgew0KICAgICAgICAgIGlmIChhcGlSZXF1ZXN0VG9rZW5zLmRhdGEuZXJyb3IgPT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgaWYgKGFwaVJlcXVlc3RUb2tlbnMuZGF0YS5zdGF0dXMgPT09ICJVU0VSX0JMT0NLUyIpIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coDQogICAgICAgICAgICAgICAgImFwaVJlcXVlc3RUb2tlbnMuZGF0YS5ibG9ja3MgOj4+ICIsDQogICAgICAgICAgICAgICAgYXBpUmVxdWVzdFRva2Vucy5kYXRhLmJsb2NrcywNCiAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgdXNlcmJsb2NrcyA9IGFwaVJlcXVlc3RUb2tlbnMuZGF0YS5ibG9ja3M7DQogICAgICAgICAgICB9IGVsc2UgaWYgKGFwaVJlcXVlc3RUb2tlbnMuZGF0YS5zdGF0dXMgPT0gIkJPVF9UT0tFTlMiKSB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJhcGlSZXF1ZXN0VG9rZW4uZGF0YSA6Pj4gIiwgYXBpUmVxdWVzdFRva2Vucy5kYXRhKTsNCiAgICAgICAgICAgICAgb2F1dGhfdG9rZW4gPSBhcGlSZXF1ZXN0VG9rZW5zLmRhdGEudG9rZW5zLm9hdXRoX3Rva2VuOw0KDQogICAgICAgICAgICAgIGlkID0gYXBpUmVxdWVzdFRva2Vucy5kYXRhLnVzZXJEYXRhLmFjY0lkOw0KICAgICAgICAgICAgICAvL0luIHRoaXMgY2FzZSwgdXNlciB0b2tlbnMgd2VyZW50IHNldCwgQVBJIHJldHVybnMgYm90IHRva2VucyBhbGxvd2luZyBmb3IgdXNlciB0b2tlbiBhY2Nlc3MNCiAgICAgICAgICAgICAgbGV0IHBhcmFtcyA9IGBzY3JvbGxiYXJzPW5vLHJlc2l6YWJsZT1ubyxzdGF0dXM9bm8sbG9jYXRpb249bm8sdG9vbGJhcj1ubyxtZW51YmFyPW5vLA0Kd2lkdGg9NjAwLGhlaWdodD03MjAsbGVmdD0xMDAsdG9wPTEwMGA7DQogICAgICAgICAgICAgIG9wZW4oDQogICAgICAgICAgICAgICAgYGh0dHBzOi8vYXBpLnR3aXR0ZXIuY29tL29hdXRoL2F1dGhlbnRpY2F0ZT9vYXV0aF90b2tlbj0ke29hdXRoX3Rva2VufSZzY3JlZW5fbmFtZT0ke3RoaXMudXNlcm5hbWV9JmZvcmNlX2xvZ2luPXRydWVgLA0KICAgICAgICAgICAgICAgICJsb2dpbldpdGhUd2l0dGVyIiwNCiAgICAgICAgICAgICAgICBwYXJhbXMsDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgIC8vV2hpbGUgdGhlIHVzZXIgaXMgYWNjZXB0aW5nIC8gcmVmdXNpbmcsIGxvb3AgZGF0YWJhc2UgcXVlcnkgd2FpdGluZyBmb3IgYW5zd2VyLg0KICAgICAgICAgICAgICBsZXQgYXBpUmVxdWVzdFRva2Vuc19sb29wID0gYXdhaXQgdXNlclNlcnZpY2VzLmdldFJlcXVlc3RUb2tlbl9sb29wKA0KICAgICAgICAgICAgICAgIGFjYywNCiAgICAgICAgICAgICAgICBpZCwNCiAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2coImFwaVJlcXVlc3RUb2tlbnNfbG9vcCByZXR1cm5lZCA6Pj4gIiwgYXBpUmVxdWVzdFRva2Vuc19sb29wKTsNCiAgICAgICAgICAgICAgaWYgKGFwaVJlcXVlc3RUb2tlbnNfbG9vcC5kYXRhLmVycm9yKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yIG9jY3VyZWQgZHVyaW5nIGxvb3AiKTsNCiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcGlSZXF1ZXN0VG9rZW5zX2xvb3AuZGF0YS5zdGF0dXMgPT0gIlRJTUVET1VUIikgew0KICAgICAgICAgICAgICAgIGFsZXJ0KA0KICAgICAgICAgICAgICAgICAgIlR3aXR0ZXIgU2lnbiBJbiB0aW1lZCBvdXQsIGlmIHlvdSBkZW5pZWQgNUNoYXQgcmVhZCByaWdodHMsIGlnbm9yZSB0aGlzIHdhcm5pbmcsIG90aGVyd2lzZSwgdHJ5IGFnYWluIChmYXN0ZXIpIiwNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwaVJlcXVlc3RUb2tlbnNfbG9vcC5kYXRhLnN0YXR1cyA9PSAiVVNFUl9CTE9DS1MiKSB7DQogICAgICAgICAgICAgICAgdXNlcmJsb2NrcyA9IGFwaVJlcXVlc3RUb2tlbnNfbG9vcC5kYXRhLmJsb2NrczsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygNCiAgICAgICAgICAgICJhcGlSZXF1ZXN0VG9rZW5zLmRhdGEuZXJyb3IgOj4+ICIsDQogICAgICAgICAgICBhcGlSZXF1ZXN0VG9rZW5zLmRhdGEuZXJyb3JfdGxkciwNCiAgICAgICAgICApOw0KICAgICAgICB9DQogICAgICAgIHRoaXMuYnVzeVNpZ25JbiA9IGZhbHNlOw0KICAgICAgICB0aGlzLnVzZXIudHdpdHRlci5ibG9ja3MgPSB1c2VyYmxvY2tzOw0KICAgICAgICB0aGlzLnR3aXR0ZXJLZXkgKz0gMTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGFsZXJ0KA0KICAgICAgICAgICdXb3VsZCB5b3UgcGxlYXNlIG1pbmQgZW50ZXJpbmcgeW91ciB0d2l0dGVyIEAgYmVmb3JlLCBhbmQgaGl0ICJDcmVhdGUgT3IgUG9wdWxhdGUgVXNlciIgdGhhbmsgdSAod29udCBiZSBpbiBmaW5hbCByZWxlYXNlJywNCiAgICAgICAgKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIHVwZGF0ZVVzZXJEYXRhKHBheWxvYWQpIHsNCiAgICAgIHRoaXMuYnVzeSA9IHRydWU7DQogICAgICB0aGlzLnVzZXJbcGF5bG9hZC5hdHRyaWJ1dGVdID0gcGF5bG9hZC51c2VyRGF0YTsNCiAgICAgIGxldCBwYWNrZXQgPSB7fTsNCiAgICAgIHBhY2tldFtwYXlsb2FkLmF0dHJpYnV0ZV0gPSBwYXlsb2FkLnVzZXJEYXRhOw0KICAgICAgcGFja2V0LmlkID0gdGhpcy5pZDsNCiAgICAgIHVzZXJTZXJ2aWNlcw0KICAgICAgICAucG9zdFVzZXJEYXRhKHRoaXMudXNlcm5hbWUsIHBhY2tldCwgcGF5bG9hZC5hdHRyaWJ1dGUpDQogICAgICAgIC50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7DQogICAgICAgICAgdGhpcy5idXN5ID0gZmFsc2U7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZSkgPT4gew0KICAgICAgICAgIHRoaXMuYnVzeSA9IGZhbHNlOw0KICAgICAgICAgIGNvbnNvbGUubG9nKGUpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGFzeW5jIGRlbGV0ZU15RGF0YSgpIHsNCiAgICAgIGxldCBpZCA9ICItMSI7DQogICAgICBpZiAodGhpcy5pZCAhPT0gbnVsbCkgew0KICAgICAgICBpZCA9IHRoaXMuaWQ7DQogICAgICB9DQogICAgICAvLyBsZXQgYWNjID0gImJvY2hhdF8iOw0KICAgICAgbGV0IGFjYyA9ICItMSI7DQogICAgICBpZiAodGhpcy51c2VybmFtZSAhPT0gbnVsbCkgew0KICAgICAgICBhY2MgPSB0aGlzLnVzZXJuYW1lOw0KICAgICAgfQ0KICAgICAgbGV0IHJlcyA9IGF3YWl0IHVzZXJTZXJ2aWNlcw0KICAgICAgICAuZ2V0VXNlckJhc2ljRGF0YSh0aGlzLnVzZXJuYW1lKQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZygiZXJyb3IgZ2V0dGluZyBiYXNpYyBkYXRhOj4+ICIsIGVycm9yKSk7DQogICAgICBpZiAocmVzLmRhdGEuZXJyb3IgPT09IHVuZGVmaW5lZCkgew0KICAgICAgICBpZiAodGhpcy5pZCA9PSByZXMuZGF0YS5pZCkgew0KICAgICAgICAgIGxldCBkZWxRdWVyeSA9IGF3YWl0IHVzZXJTZXJ2aWNlcy5kZWxldGVVc2VyKGFjYywgaWQpOw0KICAgICAgICAgIGlmIChkZWxRdWVyeS5lcnJvciA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAvL1JlZGlyZWN0IHRvIGhvbWUgcGFnZQ0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYWxlcnQoImVycm9yIGRlbGV0aW5nIHVzZXIgZGF0YSIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBhbGVydCgiaWQgZG9lc250IG1hdGNoIGFjY291bnQgbmFtZSIpOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBhbGVydCgiZmFpbGVkIHRvIGNoZWNrIGZvciBhY2MgLyBpZCB2YWxpZGl0eSIpOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["UserSettings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserSettings.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div id=\"user-settings-compo\">\r\n    <div style=\"margin: 10px 5px\">\r\n      <div style=\"margin-top: 1rem; max-width: 16rem; display: flex\">\r\n        <b>Account settings for :</b>\r\n        <a id=\"twitter-name\" v-bind:href=\"userLink\" target=\"_blank\"\r\n          ><h1 v-if=\"username !== ''\" style=\"font-size: inherit\">@</h1>\r\n          {{ username }}\r\n        </a>\r\n      </div>\r\n      <div style=\"max-width: 15rem; display: flex\">\r\n        <b-button\r\n          class=\"button-delete\"\r\n          :disabled=\"busy\"\r\n          variant=\"outline-danger\"\r\n          @click=\"deleteMyData\"\r\n          ><span style=\"font-size: small\"> Delete my data </span></b-button\r\n        >\r\n        <transition name=\"load\">\r\n          <div class=\"loading-icon-wraper\">\r\n            <b-icon-twitter animation=\"throb\" v-if=\"busy\"></b-icon-twitter>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n      <div v-if=\"twitterAccountStatus == 'accountIsPrivate'\">This account is private</div>\r\n      <div v-if=\"readAccountStatus == 'failed'\">\r\n        Error reading account, try again later, report this on Discord !\r\n      </div>\r\n      <div v-if=\"readAccountStatus == 'notmatching'\">\r\n        User id and user name do not match, if you havent modified the URL, contact me on\r\n        Discord !\r\n      </div>\r\n      <p></p>\r\n\r\n      <div class=\"btn-icon-bundle\">\r\n        <input\r\n          :disabled=\"!usernameIsValid\"\r\n          type=\"image\"\r\n          @click=\"userSignIn()\"\r\n          src=\"https://cdn.cms-twdigitalassets.com/content/dam/developer-twitter/auth-docs/sign-in-with-twitter-gray.png.twimg.1920.png\"\r\n          alt=\"Twitter Sign In\"\r\n          style=\"width: fit-content; padding: 1rem 0rem\"\r\n        />\r\n        <transition name=\"load\">\r\n          <div class=\"loading-icon-wraper\">\r\n            <b-icon-twitter animation=\"throb\" v-if=\"busySignIn\"></b-icon-twitter>\r\n          </div>\r\n        </transition>\r\n      </div>\r\n    </div>\r\n    <p></p>\r\n    <TwitterData :userData=\"user\" :key=\"twitterKey\" />\r\n    <GeneralData :userData=\"user\" v-on:updateUserData=\"updateUserData\" />\r\n    <FiltersData :userData=\"user\" v-on:updateUserData=\"updateUserData\" />\r\n    <ScoreData :userData=\"user\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userServices from \"@/services/userServices.js\";\r\nimport TwitterData from \"@/components/TwitterData.vue\";\r\nimport GeneralData from \"@/components/GeneralData.vue\";\r\nimport FiltersData from \"@/components/FiltersData.vue\";\r\nimport ScoreData from \"@/components/ScoreData.vue\";\r\nvar jwt = require(\"jsonwebtoken\");\r\nexport default {\r\n  name: \"UserSettings\",\r\n  components: {\r\n    TwitterData,\r\n    GeneralData,\r\n    FiltersData,\r\n    ScoreData,\r\n  },\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      id: null,\r\n      user: null,\r\n      JWT: null,\r\n      readAccountStatus: \"untried\",\r\n      busy: false,\r\n      busyCreatePopulate: false,\r\n      busySignIn: false,\r\n      twitterKey: 0,\r\n    };\r\n  },\r\n  async created() {\r\n    //Getting id and username from JWT\r\n    this.JWT = new URL(window.location.href).searchParams.get(\"JWT\");\r\n    try {\r\n      let decoded = jwt.decode(this.JWT);\r\n      this.id = decoded.accId;\r\n      this.username = decoded.accName;\r\n    } catch (err) {\r\n      console.log(\"err :>> \", err);\r\n      this.readAccountStatus = \"failed\";\r\n      return 1;\r\n    }\r\n    //Verifying that parameters are correct\r\n    let res = await userServices\r\n      .getUserBasicData(this.username)\r\n      .catch((error) => console.log(\"error getting basic data:>> \", error));\r\n    if (res.data.error === undefined) {\r\n      if (this.id == res.data.userdata.id) {\r\n        //The ID / username duo fits correctly\r\n        //Create or Update User\r\n        await this.callUser(\"put\");\r\n        this.readAccountStatus = \"success\";\r\n      } else {\r\n        console.log(\"accId doesnt match accName\");\r\n        this.readAccountStatus = \"notmatching\";\r\n      }\r\n    } else {\r\n      this.readAccountStatus = \"failed\";\r\n    }\r\n  },\r\n  computed: {\r\n    usernameIsValid: function () {\r\n      if (this.username != null && this.username.length >= 4) {\r\n        return true;\r\n      } else if (this.username != null) {\r\n        return false;\r\n      }\r\n\r\n      return null;\r\n    },\r\n    twitterAccountStatus: function () {\r\n      if (this.user != null && this.user.twitter != null) {\r\n        if (this.user.acc == undefined) {\r\n          return \"errorReadingAccount\";\r\n        }\r\n        if (this.user.twitter.likes == undefined) {\r\n          return \"accountIsPrivate\";\r\n        }\r\n        return \"readable\";\r\n      }\r\n      return \"notLoaded\";\r\n    },\r\n    userLink: function () {\r\n      return \"https://twitter.com/\" + this.username;\r\n    },\r\n  },\r\n  methods: {\r\n    async callUser(method) {\r\n      this.busyCreatePopulate = true;\r\n      if (this.username !== null) {\r\n        userServices\r\n          .getUser(this.JWT, method)\r\n          .then((res) => {\r\n            if (res) {\r\n              this.user = res;\r\n              this.readAccountStatus = \"success\";\r\n            } else {\r\n              this.readAccountStatus = \"failed\";\r\n            }\r\n            this.busyCreatePopulate = false;\r\n          })\r\n          .catch((error) => console.error(\"error :>> \", error));\r\n      }\r\n    },\r\n    /*request the 5Chat oauth_token, then redirects the user to a sign-in page,\r\n    and finally, retrieves the user tokens and iD for loading*/\r\n    async userSignIn() {\r\n      if (this.user != null && this.user.twitter !== undefined) {\r\n        let userblocks = null;\r\n        this.busySignIn = true;\r\n        let oauth_token = null;\r\n\r\n        let id = \"-1\";\r\n        if (this.id !== null) {\r\n          id = this.id;\r\n        }\r\n        let acc = \"-1\";\r\n        if (this.username !== null) {\r\n          acc = this.username;\r\n        }\r\n\r\n        let apiRequestTokens = await userServices.getRequestToken(acc, id);\r\n        if (apiRequestTokens) {\r\n          if (apiRequestTokens.data.error === undefined) {\r\n            if (apiRequestTokens.data.status === \"USER_BLOCKS\") {\r\n              console.log(\r\n                \"apiRequestTokens.data.blocks :>> \",\r\n                apiRequestTokens.data.blocks,\r\n              );\r\n              userblocks = apiRequestTokens.data.blocks;\r\n            } else if (apiRequestTokens.data.status == \"BOT_TOKENS\") {\r\n              console.log(\"apiRequestToken.data :>> \", apiRequestTokens.data);\r\n              oauth_token = apiRequestTokens.data.tokens.oauth_token;\r\n\r\n              id = apiRequestTokens.data.userData.accId;\r\n              //In this case, user tokens werent set, API returns bot tokens allowing for user token access\r\n              let params = `scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no,\r\nwidth=600,height=720,left=100,top=100`;\r\n              open(\r\n                `https://api.twitter.com/oauth/authenticate?oauth_token=${oauth_token}&screen_name=${this.username}&force_login=true`,\r\n                \"loginWithTwitter\",\r\n                params,\r\n              );\r\n              //While the user is accepting / refusing, loop database query waiting for answer.\r\n              let apiRequestTokens_loop = await userServices.getRequestToken_loop(\r\n                acc,\r\n                id,\r\n              );\r\n              console.log(\"apiRequestTokens_loop returned :>> \", apiRequestTokens_loop);\r\n              if (apiRequestTokens_loop.data.error) {\r\n                console.log(\"error occured during loop\");\r\n              } else if (apiRequestTokens_loop.data.status == \"TIMEDOUT\") {\r\n                alert(\r\n                  \"Twitter Sign In timed out, if you denied 5Chat read rights, ignore this warning, otherwise, try again (faster)\",\r\n                );\r\n              } else if (apiRequestTokens_loop.data.status == \"USER_BLOCKS\") {\r\n                userblocks = apiRequestTokens_loop.data.blocks;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          console.log(\r\n            \"apiRequestTokens.data.error :>> \",\r\n            apiRequestTokens.data.error_tldr,\r\n          );\r\n        }\r\n        this.busySignIn = false;\r\n        this.user.twitter.blocks = userblocks;\r\n        this.twitterKey += 1;\r\n      } else {\r\n        alert(\r\n          'Would you please mind entering your twitter @ before, and hit \"Create Or Populate User\" thank u (wont be in final release',\r\n        );\r\n      }\r\n    },\r\n    updateUserData(payload) {\r\n      this.busy = true;\r\n      this.user[payload.attribute] = payload.userData;\r\n      let packet = {};\r\n      packet[payload.attribute] = payload.userData;\r\n      packet.id = this.id;\r\n      userServices\r\n        .postUserData(this.username, packet, payload.attribute)\r\n        .then((res) => {\r\n          console.log(res.data);\r\n          this.busy = false;\r\n        })\r\n        .catch((e) => {\r\n          this.busy = false;\r\n          console.log(e);\r\n        });\r\n    },\r\n    async deleteMyData() {\r\n      let id = \"-1\";\r\n      if (this.id !== null) {\r\n        id = this.id;\r\n      }\r\n      // let acc = \"bochat_\";\r\n      let acc = \"-1\";\r\n      if (this.username !== null) {\r\n        acc = this.username;\r\n      }\r\n      let res = await userServices\r\n        .getUserBasicData(this.username)\r\n        .catch((error) => console.log(\"error getting basic data:>> \", error));\r\n      if (res.data.error === undefined) {\r\n        if (this.id == res.data.id) {\r\n          let delQuery = await userServices.deleteUser(acc, id);\r\n          if (delQuery.error === undefined) {\r\n            //Redirect to home page\r\n            this.$router.push(\"/\");\r\n          } else {\r\n            alert(\"error deleting user data\");\r\n          }\r\n        } else {\r\n          alert(\"id doesnt match account name\");\r\n        }\r\n      } else {\r\n        alert(\"failed to check for acc / id validity\");\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.btn-icon-bundle {\r\n  display: flex;\r\n\r\n  .load-enter-active,\r\n  .load-leave-active {\r\n    transition: opacity 0.5s;\r\n  }\r\n  .load-enter, .load-leave-to /* .fade-leave-active below version 2.1.8 */ {\r\n    opacity: 0;\r\n  }\r\n\r\n  .loading-icon-wraper {\r\n    padding: 5px;\r\n    align-items: center;\r\n    color: #0d6efd;\r\n    padding-left: 1rem;\r\n    display: flex;\r\n  }\r\n}\r\n\r\n#user-settings-compo {\r\n  border: 2px solid rgb(104, 182, 255);\r\n  border-radius: 5px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: left;\r\n  padding: 1.5rem;\r\n}\r\n\r\n.button {\r\n  width: max-content;\r\n}\r\n\r\n.button-delete {\r\n  width: max-content;\r\n  padding: 0rem 0.75rem;\r\n}\r\n\r\n#twitter-name {\r\n  color: rgb(83, 172, 255);\r\n  font-weight: 500;\r\n  text-decoration: none;\r\n  outline: 0 none;\r\n  display: flex;\r\n  flex-direction: row;\r\n  margin-left: 5px;\r\n}\r\n</style>\r\n"]}]}